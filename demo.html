<!DOCTYPE html>
<html>
	<head>
		<title>Microflux Demo</title>
		<script src="https://cdn.rawgit.com/saltyJeff/microflux/02e04d2f/microflux.min.js"></script>
	</head>
	<body>
		<h1>Type in your input here: <input type="text" id="input"/></h1>
		<ol>
			<li><h2>You typed: <span id="message1"></span></h2></li>
			<li><h2>You typed: <span id="message2"></span></h2></li>
			<li><h2>You typed: <span id="message3"></span></h2></li>
		</ol>
		<script>
			var demo = MicroFlux({
				store: {
					message: 'Welcome to my cool demo'
				},
				actions: {
					changeMessage: function (newMsg) {
						this.message = newMsg;
					}
				}
			});
			//add some property bindings
			demo.on('changeMessage', function (store) {
				document.getElementById('message1').textContent = store.message;
			});
			demo.on('changeMessage', function (store) {
				document.getElementById('message2').textContent = store.message;
			});
			demo.on('changeMessage', function (store) {
				document.getElementById('message3').textContent = store.message;
			});
			//setup some triggers
			var inputElem = document.getElementById('input');
			inputElem.addEventListener('input', function () {
				demo.changeMessage(inputElem.value);
			});
			//unbind everything: that's no fun
			//demo.unbindAll('changeMessage');
		</script>
	</body>
</html>
